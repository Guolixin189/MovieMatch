<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>MovieMatch - Swipe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Permanent+Marker&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/lucide@latest"></script>

    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://aistudiocdn.com/@google/genai@^1.31.0"
        }
      }
    </script>

    <link rel="stylesheet" href="SwipeMode.css" />
  </head>
  <div
    class="absolute inset-0 z-0 bg-cover bg-center"
    style="
      background-image: url('https://images.unsplash.com/photo-1530305408560-82d13781b33a?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8cGxhaW58ZW58MHx8MHx8fDA%3D');
    "
  ></div>
  <body
    class="bg-slate-900 text-white font-sans overflow-hidden h-screen flex flex-col"
  >
    <!-- Header -->
    <header
      class="fixed top-0 left-0 w-full z-40 p-4 flex justify-between items-center shadow-md"
    >
      <a href="home.html" class="flex items-center gap-2">
        <h1 class="logo text-2xl text-yellow-400 hidden sm:block text-shadow">
          MovieMatch
        </h1>
      </a>
      <div class="flex items-center gap-2">
        <div
          class="bg-slate-800 rounded-full p-1 flex items-center border border-slate-700 text-xs font-bold mr-2"
        >
          <span class="px-3 py-1 rounded-full bg-yellow-500 text-white"
            >Swipe</span
          >
          <a
            href="scrollMode.html"
            class="px-3 py-1 text-slate-400 hover:text-white"
            >Scroll</a
          >
        </div>
        <button
          id="watchlist-toggle"
          class="flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full font-bold shadow-lg transition-transform hover:scale-105"
        >
          <i data-lucide="list-video" class="w-5 h-5"></i>
          <span class="hidden md:inline">Watchlist</span>
          <span
            id="watchlist-count"
            class="bg-white text-red-500 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold"
            >0</span
          >
        </button>
      </div>
    </header>

    <!-- Swipe Deck -->
    <main
      class="flex-1 relative flex flex-col items-center justify-center overflow-hidden py-4"
    >
      <div
        id="swipe-deck"
        class="relative w-full max-w-sm h-[60vh] md:h-[65vh]"
      >
        <!-- Movie Cards -->
        <div
          id="loading"
          class="absolute inset-0 flex flex-col items-center justify-center"
        >
          <div
            class="w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"
          ></div>
          <p class="mt-4 text-slate-400 animate-pulse">
            Finding perfect matches...
          </p>
        </div>
        <div
          id="empty-state"
          class="hidden absolute inset-0 flex flex-col items-center justify-center text-center"
        >
          <div class="text-6xl mb-4">ðŸŽ¬</div>
          <h2 class="text-2xl font-bold">That's a Wrap!</h2>
          <a href="home.html" class="mt-4 text-blue-400 hover:underline"
            >Change Preferences</a
          >
        </div>
      </div>

      <!-- Controls -->
      <div
        id="controls"
        class="h-24 w-full flex items-center justify-center gap-8 mt-4"
      >
        <button
          id="btn-skip"
          class="w-16 h-16 rounded-full bg-slate-800 border-2 border-slate-700 text-red-500 flex items-center justify-center shadow-xl hover:scale-110 hover:bg-red-500 hover:text-white transition-all"
        >
          <i data-lucide="x" class="w-8 h-8"></i>
        </button>
        <button
          id="btn-like"
          class="w-16 h-16 rounded-full bg-slate-800 border-2 border-slate-700 text-green-500 flex items-center justify-center shadow-xl hover:scale-110 hover:bg-green-500 hover:text-white transition-all"
        >
          <i data-lucide="heart" class="w-8 h-8 fill-current"></i>
        </button>
      </div>
    </main>

    <!-- Watchlist Sidebar -->
    <div
      id="watchlist-overlay"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm z-40 hidden opacity-0 transition-opacity"
    ></div>
    <aside
      id="watchlist-sidebar"
      class="fixed top-0 right-0 h-full w-80 bg-slate-80 text-slate-900 shadow-2xl z-50 transform translate-x-full transition-transform duration-300 flex flex-col"
    >
      <div
        class="p-6 border-b border-slate-200 flex justify-between items-center bg-gradient-to-r from-yellow-300 to-yellow-500"
      >
        <h2 class="logo text-3xl -rotate-2">Watchlist</h2>
        <button id="watchlist-close">
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
      </div>
      <div
        id="watchlist-items"
        class="flex-1 overflow-y-auto p-4 space-y-4"
      ></div>
      <div
        class="p-4 border-t border-slate-80 bg-slate-80 text-center text-xs text-slate-50"
      >
        <span id="watchlist-stats">0 / 0 Watched</span>
      </div>
    </aside>

    <script type="module" src="SwipeMode.js"></script>
  </body>
</html>
