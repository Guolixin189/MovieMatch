<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>MovieMatch - Scroll</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Permanent+Marker&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/lucide@latest"></script>

    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://aistudiocdn.com/@google/genai@^1.31.0"
        }
      }
    </script>

    <link rel="stylesheet" href="scrollMode.css" />
  </head>
  <body class="bg-slate-900 text-white font-sans">
    <!-- Header -->
    <div
      class="absolute inset-0 z-0 bg-cover bg-center"
      style="
        background-image: url('https://images.unsplash.com/photo-1530305408560-82d13781b33a?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8cGxhaW58ZW58MHx8MHx8fDA%3D');
      "
    ></div>
    <header
      class="fixed top-0 left-0 w-full z-40 p-4 flex justify-between items-center shadow-md"
    >
      <a href="home.html" class="flex items-center gap-2">
        <h1 class="logo text-2xl text-yellow-400 hidden sm:block text-shadow">
          MovieMatch
        </h1>
      </a>
      <div class="flex items-center gap-2">
        <div
          class="bg-slate-800 rounded-full p-1 flex items-center border border-slate-700 text-xs font-bold mr-2"
        >
          <a
            href="SwipeMode.html"
            class="px-3 py-1 text-slate-400 hover:text-yellow-400"
            >Swipe</a
          >
          <span class="px-3 py-1 rounded-full bg-yellow-500 text-white"
            >Scroll</span
          >
        </div>
        <button
          id="watchlist-toggle"
          class="relative bg-red-500 p-2 rounded-full hover:bg-red-600 transition-transform hover:scale-105"
        >
          <i data-lucide="list-video" class="w-5 h-5 text-white"></i>
          <span
            id="watchlist-count"
            class="absolute -top-1 -right-1 bg-white text-red-500 text-[10px] w-4 h-4 flex items-center justify-center rounded-full font-bold"
            >0</span
          >
        </button>
      </div>
    </header>

    <!-- Grid -->
    <main class="pt-24 pb-10 px-4 max-w-7xl mx-auto min-h-screen">
      <div id="loading" class="flex flex-col items-center justify-center mt-20">
        <div
          class="w-10 h-10 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"
        ></div>
      </div>
      <div
        id="grid-container"
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"
      ></div>
      <div id="empty-state" class="hidden text-center mt-20 text-slate-500">
        No movies found.
        <a href="home.html" class="text-yellow-400 underline">Try again.</a>
      </div>
    </main>

    <!-- Watchlist Sidebar -->
    <div
      id="watchlist-overlay"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm z-40 hidden opacity-0 transition-opacity"
    ></div>
    <aside
      id="watchlist-sidebar"
      class="fixed top-0 right-0 h-full w-80 bg-slate-80 text-slate-900 shadow-2xl z-50 transform translate-x-full transition-transform duration-300 flex flex-col"
    >
      <div
        class="p-6 border-b border-slate-200 flex justify-between items-center bg-gradient-to-r from-yellow-300 to-yellow-500"
      >
        <h2 class="logo text-3xl -rotate-2">Watchlist</h2>
        <button id="watchlist-close">
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
      </div>
      <div
        id="watchlist-items"
        class="flex-1 overflow-y-auto p-4 space-y-4"
      ></div>
      <div
        class="p-4 border-t border-slate-80 bg-slate-80 text-center text-xs text-slate-50"
      >
        <span id="watchlist-stats">0 / 0 Watched</span>
      </div>
    </aside>

    <script type="module" src="scrollMode.js"></script>
  </body>
</html>
